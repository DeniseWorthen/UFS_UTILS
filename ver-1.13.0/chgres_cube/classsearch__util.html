<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>chgres_cube: search_util Module Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">chgres_cube
   &#160;<span id="projectnumber">1.13.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Types&#160;List</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Types&#160;List</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classsearch__util.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">search_util Module Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Replace undefined values with a valid value.  
 <a href="classsearch__util.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4a511a55b3ce58a03cc053d19cecc458"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsearch__util.html#a4a511a55b3ce58a03cc053d19cecc458">search</a> (field, mask, idim, jdim, tile, field_num, latitude, terrain_land, soilt_climo)</td></tr>
<tr class="memdesc:a4a511a55b3ce58a03cc053d19cecc458"><td class="mdescLeft">&#160;</td><td class="mdescRight">Replace undefined surface values.  <a href="#a4a511a55b3ce58a03cc053d19cecc458">More...</a><br/></td></tr>
<tr class="separator:a4a511a55b3ce58a03cc053d19cecc458"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f5cd2507060bc834d1fd8a08a4c31ba"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsearch__util.html#a5f5cd2507060bc834d1fd8a08a4c31ba">sst_guess</a> (latitude, sst)</td></tr>
<tr class="memdesc:a5f5cd2507060bc834d1fd8a08a4c31ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set default Sea Surface Temperature (SST) based on latitude.  <a href="#a5f5cd2507060bc834d1fd8a08a4c31ba">More...</a><br/></td></tr>
<tr class="separator:a5f5cd2507060bc834d1fd8a08a4c31ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Replace undefined values with a valid value. </p>
<p>This can happen for an isolated lake or island that is unresolved by the input grid.</p>
<p>Searches for the nearest valid land/non-land data where the input and target fv3 land-mask differ. Example: when the target FV3 grid depicts an island that is not resolved by the input data. If nearby valid data is not found, a default value is used.</p>
<dl class="section author"><dt>Author</dt><dd>George Gayno NCEP/EMC </dd></dl>

<p>Definition at line <a class="el" href="search__util_8F90_source.html#l00015">15</a> of file <a class="el" href="search__util_8F90_source.html">search_util.F90</a>.</p>
</div><h2 class="groupheader">Member Function/Subroutine Documentation</h2>
<a class="anchor" id="a4a511a55b3ce58a03cc053d19cecc458"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public search_util::search </td>
          <td>(</td>
          <td class="paramtype">real(esmf_kind_r8), dimension(idim,jdim), intent(inout)&#160;</td>
          <td class="paramname"><em>field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(esmf_kind_i8), dimension(idim,jdim), intent(in)&#160;</td>
          <td class="paramname"><em>mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>idim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>jdim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>tile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>field_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real(esmf_kind_r8), dimension(idim,jdim), intent(in), optional&#160;</td>
          <td class="paramname"><em>latitude</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real(esmf_kind_r8), dimension(idim,jdim), intent(in), optional&#160;</td>
          <td class="paramname"><em>terrain_land</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real(esmf_kind_r8), dimension(idim,jdim), intent(in), optional&#160;</td>
          <td class="paramname"><em>soilt_climo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Replace undefined surface values. </p>
<p>Replace undefined values on the model grid with a valid value at a nearby neighbor. Undefined values are typically associated with isolated islands where there is no source data.</p>
<p>Routine searches a neighborhood with a radius of 100 grid points. If no valid value is found, a default value is used.</p>
<p>This routine works for one tile of a cubed sphere grid. It does not consider valid values at adjacent faces. That is a future upgrade.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">field</td><td>On input/output, surface data with undefined/no undefined values. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mask</td><td>land-mask of surface data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">idim</td><td>'i' dimension of tile </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">jdim</td><td>'j' dimension of tile </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tile</td><td>tile number </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">field_num</td><td>surface field number </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">latitude</td><td>latitude of the surface data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">terrain_land</td><td>terrain height </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">soilt_climo</td><td>climatological soil type </td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>George Gayno NCEP/EMC </dd></dl>

<p>Definition at line <a class="el" href="search__util_8F90_source.html#l00046">46</a> of file <a class="el" href="search__util_8F90_source.html">search_util.F90</a>.</p>

<p>References <a class="el" href="search__util_8F90_source.html#l00234">sst_guess()</a>.</p>

<p>Referenced by <a class="el" href="surface_8F90_source.html#l00261">surface::interp()</a>, <a class="el" href="sfc__input__data_8F90_source.html#l01763">sfc_input_data::read_input_sfc_grib2_file()</a>, and <a class="el" href="surface_8F90_source.html#l03600">surface::search_many()</a>.</p>

</div>
</div>
<a class="anchor" id="a5f5cd2507060bc834d1fd8a08a4c31ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine search_util::sst_guess </td>
          <td>(</td>
          <td class="paramtype">real(esmf_kind_r8), intent(in)&#160;</td>
          <td class="paramname"><em>latitude</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real(esmf_kind_r8), intent(out)&#160;</td>
          <td class="paramname"><em>sst</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set default Sea Surface Temperature (SST) based on latitude. </p>
<p>Based loosely on the average annual SST values from ./am/cfs_oi2sst1x1monclim19822001.grb</p>
<p>The temperature in the polar and tropical regions is set to 273.16 and 300.0 Kelvin respectively. Polar regions are poleward of 60 degrees. Tropical regions are within 30 degrees of the equator. In mid-latitudes, a linear change with latitude is used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">latitude</td><td>Latitude in decimal degrees </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">sst</td><td>Default SST in Kelvin </td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>George Gayno NCEP/EMC </dd></dl>

<p>Definition at line <a class="el" href="search__util_8F90_source.html#l00234">234</a> of file <a class="el" href="search__util_8F90_source.html">search_util.F90</a>.</p>

<p>Referenced by <a class="el" href="search__util_8F90_source.html#l00046">search()</a>.</p>

</div>
</div>
<hr/>The documentation for this module was generated from the following file:<ul>
<li>/scratch1/NCEPDEV/da/George.Gayno/ufs_utils.git/UFS_UTILS.upstream/sorc/chgres_cube.fd/<a class="el" href="search__util_8F90_source.html">search_util.F90</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classsearch__util.html">search_util</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
